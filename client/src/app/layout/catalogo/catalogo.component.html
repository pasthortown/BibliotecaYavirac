<div class="col-12">
    <div class="form-row">
        <div class="col-md-12 text-right">
            <h2 style="margin-top:0px">Búsqueda en la Biblioteca</h2>
        </div>
    </div>
    <div class="btn-toolbar">
        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default" (click)="refresh()">
                <span class="fa fa-refresh"></span>&nbsp;Actualizar
            </button>
            &nbsp;
            <div class="form-inline">
                <input class="form-control" type="text" placeholder="Buscar Recursos" >
                <div class="input-group-append">
                    <button type="button" class="btn btn-outline-primary" (click)="getFiltrado()"><span class="fa fa-search"></span></button>
                </div>
            </div>
        </div>
        <div style="width:100%; float:left; height:10px;"></div>
    </div>
    <div class="row">
        <table class="table table-striped table-bordered">
            <thead class="thead-dark">
                <tr>
                    <th>
                    </th>
                    <th scope="col">
                        <span>
                        <strong>Categoría</strong>
                        </span>
                    </th>
                    <th scope="col">
                        <span>
                        <strong>Título</strong>
                        </span>
                    </th>
                    <th scope="col">
                        <span>
                        <strong>Autor</strong>
                        </span>
                    </th>
                    <th scope="col">
                        <span>
                        <strong>Tipo</strong>
                        </span>
                    </th>
                    <th scope="col">
                        <span>
                        <strong>Opciones</strong>
                        </span>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let actual of entidades" (click)="onSelect(actual)">
                    <td>
                        <i class="fa fa-hand-o-right" [hidden]="!estaSeleccionado(actual)"></i>
                    </td>
                    <td>{{actual.idCategoria}}</td>
                    <td>{{actual.titulo}}</td>
                    <td>{{actual.idAutor}}</td>
                    <td>{{actual.idTipo}}</td>
                    <td>
                        <button type="button" class="btn btn-secondary" (click)="open(content,true)">
                            <span class="fa fa-eye"></span>
                        </button>
                        <button type="button" class="btn btn-secondary">
                            <span class="fa fa-cart-plus"></span>
                        </button>
                        <button type="button" class="btn btn-secondary">
                            <span class="fa fa-download"></span>
                        </button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title">
        <span *ngIf="entidadSeleccionada.id != 0">
            Edición de Datos: {{entidadSeleccionada.descripcion | uppercase}}
        </span>
        <span *ngIf="entidadSeleccionada.id === 0">
            Ingreso de Datos:
        </span>
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="d('ClickEnX')">
        <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
        <div class="form-group row">
        <label for="id" class="col-sm-4 col-form-label">Identificador</label>
        <div class="col-sm-8">
            <input type="text" readonly class="form-control" id="id" name="id" [(ngModel)]="entidadSeleccionada.id">
        </div>
        </div>
        <div class="form-group row">
        <label for="idTipo" class="col-sm-4 col-form-label">Tipo</label>
        <div class="col-sm-8">
            <select class="form-control" id="idTipo" name="idTipo" [(ngModel)]="entidadSeleccionada.idtipo">
                <option value="" selected>Seleccione...</option>
                <option *ngFor="let tipo of tipos" value={{tipo.id}}>{{tipo.descripcion}}</option>
            </select>
        </div>
        </div>
        <div class="form-group row">
        <label for="idAutor" class="col-sm-4 col-form-label">Autor</label>
        <div class="col-sm-8">
            <select class="form-control" id="idAutor" name="idAutor" [(ngModel)]="entidadSeleccionada.idAutor">
                <option value="" selected>Seleccione...</option>
                <option *ngFor="let autor of autores" value={{autor.id}}>{{autor.descripcion}}</option>
            </select>
        </div>
        </div>
        <div class="form-group row">
        <label for="idCategoria" class="col-sm-4 col-form-label">Categoría</label>
        <div class="col-sm-8">
            <select class="form-control" id="idCategoria" name="idCategoria" [(ngModel)]="entidadSeleccionada.idCategoria">
                <option value="" selected>Seleccione...</option>
                <option *ngFor="let categoria of categorias" value={{categoria.id}}>{{categoria.descripcion}}</option>
            </select>
        </div>
        </div>
        <div class="form-group row">
        <label for="idProductora" class="col-sm-4 col-form-label">Productora</label>
        <div class="col-sm-8">
            <select class="form-control" id="idProductora" name="idProductora" [(ngModel)]="entidadSeleccionada.idProductora">
                <option value="" selected>Seleccione...</option>
                <option *ngFor="let productora of productoras" value={{productora.id}}>{{productora.descripcion}}</option>
            </select>
        </div>
        </div>
        <div class="form-group row">
        <label for="titulo" class="col-sm-4 col-form-label">Título</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" id="titulo" name="titulo" placeholder="Título" [(ngModel)]="entidadSeleccionada.titulo">
        </div>
        </div>
        <div class="form-group row">
        <label for="codigoISBN" class="col-sm-4 col-form-label">Código ISBN</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" id="codigoISBN" name="codigoISBN" placeholder="Código ISBN" [(ngModel)]="entidadSeleccionada.codigoISBN">
        </div>
        </div>
        <div class="form-group row">
        <label for="descripcion" class="col-sm-4 col-form-label">Descripción</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" id="descripcion" name="descripcion" placeholder="Descripción" [(ngModel)]="entidadSeleccionada.descripcion">
        </div>
        </div>
        <div class="form-group row">
        <label for="contenido" class="col-sm-4 col-form-label">Contenido</label>
        <div class="col-sm-8">
            <input type="text" class="form-control" id="contenido" name="contenido" placeholder="Contenido" [(ngModel)]="entidadSeleccionada.contenido">
        </div>
        </div>
        </form>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary col-offset-sm-4" (click)="c('save')">
        <span class="fa fa-save"></span>&nbsp;Guardar
        </button>
        <button type="button" class="btn btn-danger" (click)="c('close')"><span class="fa fa-close"></span>&nbsp;Cerrar</button>
    </div>
</ng-template>
